<!DOCTYPE html>
<html>
  <head>
    {% load static %}
    <link rel="stylesheet" href="{% static 'styles/todolist_widget.css' %}" />
    <title>SMART BOARD</title>
  </head>

  <body>
    <div class="todolist">
      <div>
        <a href="/todolist_app">
            <p>+</p>
        </a>
      </div>
        
    </div>
    <script>
      let old_todos = undefined;
      function update_todo(djangoData) {
        let todos = djangoData.todos;
        let list = document.querySelector('.todolist');
        //todos = {0:{1:'a'}, 1:{2:'b'}, 2:{3:'c'}}
        if (JSON.stringify(todos) !== JSON.stringify(old_todos)){
          for (var key in todos){
              let todo_div = document.createElement('div');
              todo_div.innerText = todos[key]['dueDate'] + " " + todos[key]['title'];
              list.append(todo_div);
              old_todos = todos;
          }
        }
      }
    </script>
  </body>
</html>