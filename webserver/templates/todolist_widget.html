<!DOCTYPE html>
<html>
  <head>
    {% load static %}
    <link rel="stylesheet" href="{% static 'styles/todolist_widget.css' %}" />
    <title>SMART BOARD</title>
  </head>

  <body>
    <div class="todolist">
      <div>
        <a href="/todolist_app">
            <p>+</p>
        </a>
      </div>
        
    </div>
    <script>
      // updates todos if websocket sends new ones
      let old_todos = undefined;
      function update_todo(djangoData) {
        let todos = djangoData.todos;
        let list = document.querySelector('.todolist');
        if (JSON.stringify(todos) !== JSON.stringify(old_todos)){
          // loops through list of todos and displays them on website
          for (var key in todos){
              let todo_div = document.createElement('div');
              todo_div.innerText = todos[key]['dueDate'] + " " + todos[key]['title1']
              + "\n" + todos[key]['dueDate'] + " " + todos[key]['title2']
              + "\n" + todos[key]['dueDate'] + " " + todos[key]['title3']
              + "\n" + todos[key]['dueDate'] + " " + todos[key]['title4'];;
              list.append(todo_div);
              old_todos = todos;
          }
        }
      }
    </script>
  </body>
</html>